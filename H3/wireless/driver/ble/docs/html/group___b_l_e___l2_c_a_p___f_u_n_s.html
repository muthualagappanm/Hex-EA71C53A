<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PIC32CX-BZ: Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PIC32CX-BZ
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Functions<div class="ingroups"><a class="el" href="group___b_l_e___l2_c_a_p.html">Logic Link Control And Adaption Protocol (L2CAP)</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac07d6fd3296e0cff7d50a3b2a22efc7f"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___l2_c_a_p___f_u_n_s.html#gac07d6fd3296e0cff7d50a3b2a22efc7f">BLE_L2CAP_Init</a> ()</td></tr>
<tr class="memdesc:gac07d6fd3296e0cff7d50a3b2a22efc7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize BLE L2CAP module.  <a href="group___b_l_e___l2_c_a_p___f_u_n_s.html#gac07d6fd3296e0cff7d50a3b2a22efc7f">More...</a><br /></td></tr>
<tr class="separator:gac07d6fd3296e0cff7d50a3b2a22efc7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0796b8a6732b645e336c072142fc97a4"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___l2_c_a_p___f_u_n_s.html#ga0796b8a6732b645e336c072142fc97a4">BLE_L2CAP_CbInit</a> ()</td></tr>
<tr class="memdesc:ga0796b8a6732b645e336c072142fc97a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize BLE L2CAP Credit Based module.  <a href="group___b_l_e___l2_c_a_p___f_u_n_s.html#ga0796b8a6732b645e336c072142fc97a4">More...</a><br /></td></tr>
<tr class="separator:ga0796b8a6732b645e336c072142fc97a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3437c826b50445fe934b34b42bca89f9"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___l2_c_a_p___f_u_n_s.html#ga3437c826b50445fe934b34b42bca89f9">BLE_L2CAP_ConnParamUpdateReq</a> (uint16_t connHandle, uint16_t intervalMin, uint16_t intervalMax, uint16_t latency, uint16_t timeout)</td></tr>
<tr class="memdesc:ga3437c826b50445fe934b34b42bca89f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Issue a connection parameter update request.  <a href="group___b_l_e___l2_c_a_p___f_u_n_s.html#ga3437c826b50445fe934b34b42bca89f9">More...</a><br /></td></tr>
<tr class="separator:ga3437c826b50445fe934b34b42bca89f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d3d3110540b506a3d20125873dbe184"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___l2_c_a_p___f_u_n_s.html#ga9d3d3110540b506a3d20125873dbe184">BLE_L2CAP_ConnParamUpdateRsp</a> (uint16_t connHandle, uint16_t result)</td></tr>
<tr class="memdesc:ga9d3d3110540b506a3d20125873dbe184"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reply a connection parameter update request.  <a href="group___b_l_e___l2_c_a_p___f_u_n_s.html#ga9d3d3110540b506a3d20125873dbe184">More...</a><br /></td></tr>
<tr class="separator:ga9d3d3110540b506a3d20125873dbe184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2fab00d96ef1f1f47e81bbe3d397024"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___l2_c_a_p___f_u_n_s.html#gad2fab00d96ef1f1f47e81bbe3d397024">BLE_L2CAP_CbConnReq</a> (uint16_t connHandle, uint16_t spsm)</td></tr>
<tr class="memdesc:gad2fab00d96ef1f1f47e81bbe3d397024"><td class="mdescLeft">&#160;</td><td class="mdescRight">Issue a L2cap credit based connection request to establish a L2cap channel.  <a href="group___b_l_e___l2_c_a_p___f_u_n_s.html#gad2fab00d96ef1f1f47e81bbe3d397024">More...</a><br /></td></tr>
<tr class="separator:gad2fab00d96ef1f1f47e81bbe3d397024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a9a6bcb3be2e33217041f094bde718a"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___l2_c_a_p___f_u_n_s.html#ga4a9a6bcb3be2e33217041f094bde718a">BLE_L2CAP_CbSendSdu</a> (uint8_t leL2capId, uint16_t length, uint8_t *p_payload)</td></tr>
<tr class="memdesc:ga4a9a6bcb3be2e33217041f094bde718a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a L2cap SDU over credit based connection channel.  <a href="group___b_l_e___l2_c_a_p___f_u_n_s.html#ga4a9a6bcb3be2e33217041f094bde718a">More...</a><br /></td></tr>
<tr class="separator:ga4a9a6bcb3be2e33217041f094bde718a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef08015df835758e9cc5d426bceb5434"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___l2_c_a_p___f_u_n_s.html#gaef08015df835758e9cc5d426bceb5434">BLE_L2CAP_CbAddCredits</a> (uint8_t leL2capId, uint16_t credits)</td></tr>
<tr class="memdesc:gaef08015df835758e9cc5d426bceb5434"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a L2cap flow control credit to peer device.  <a href="group___b_l_e___l2_c_a_p___f_u_n_s.html#gaef08015df835758e9cc5d426bceb5434">More...</a><br /></td></tr>
<tr class="separator:gaef08015df835758e9cc5d426bceb5434"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3f37e8c3b0b33a762656ca767623bcc"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___l2_c_a_p___f_u_n_s.html#gaf3f37e8c3b0b33a762656ca767623bcc">BLE_L2CAP_CbDiscReq</a> (uint8_t leL2capId)</td></tr>
<tr class="memdesc:gaf3f37e8c3b0b33a762656ca767623bcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Issue a disconnect request to credit based connection channel.  <a href="group___b_l_e___l2_c_a_p___f_u_n_s.html#gaf3f37e8c3b0b33a762656ca767623bcc">More...</a><br /></td></tr>
<tr class="separator:gaf3f37e8c3b0b33a762656ca767623bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c20b43265b60c3ea35f4d1ed78bad71"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___l2_c_a_p___f_u_n_s.html#ga3c20b43265b60c3ea35f4d1ed78bad71">BLE_L2CAP_CbRegisterSpsm</a> (uint16_t spsm, uint16_t mtu, uint16_t mps, uint16_t initCredits, uint8_t permission)</td></tr>
<tr class="memdesc:ga3c20b43265b60c3ea35f4d1ed78bad71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a SPSM.  <a href="group___b_l_e___l2_c_a_p___f_u_n_s.html#ga3c20b43265b60c3ea35f4d1ed78bad71">More...</a><br /></td></tr>
<tr class="separator:ga3c20b43265b60c3ea35f4d1ed78bad71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga758b9f1e5ad80998b64c167e6141d67f"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___l2_c_a_p___f_u_n_s.html#ga758b9f1e5ad80998b64c167e6141d67f">BLE_L2CAP_CbDeregisterSpsm</a> (uint16_t spsm)</td></tr>
<tr class="memdesc:ga758b9f1e5ad80998b64c167e6141d67f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deregister a SPSM.  <a href="group___b_l_e___l2_c_a_p___f_u_n_s.html#ga758b9f1e5ad80998b64c167e6141d67f">More...</a><br /></td></tr>
<tr class="separator:ga758b9f1e5ad80998b64c167e6141d67f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7e5e7b286c6a12e938f6cb31b040ff3"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___l2_c_a_p___f_u_n_s.html#gaa7e5e7b286c6a12e938f6cb31b040ff3">BLE_L2CAP_CbPauseAuthorization</a> (uint16_t spsm, bool enable)</td></tr>
<tr class="memdesc:gaa7e5e7b286c6a12e938f6cb31b040ff3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause or resume authorization in specific SPSM.  <a href="group___b_l_e___l2_c_a_p___f_u_n_s.html#gaa7e5e7b286c6a12e938f6cb31b040ff3">More...</a><br /></td></tr>
<tr class="separator:gaa7e5e7b286c6a12e938f6cb31b040ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaef08015df835758e9cc5d426bceb5434"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaef08015df835758e9cc5d426bceb5434">&#9670;&nbsp;</a></span>BLE_L2CAP_CbAddCredits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t BLE_L2CAP_CbAddCredits </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>leL2capId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>credits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a L2cap flow control credit to peer device. </p>
<dl class="section note"><dt>Note</dt><dd>Credit should be returned to peer device after receiving data. Otherwise no more data could be sent by peer device.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">leL2capId</td><td>L2cap instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">credits</td><td>Credit number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MBA_RES_SUCCESS</td><td>Successfully send credit to peer device. </td></tr>
    <tr><td class="paramname">MBA_RES_OOM</td><td>Internal memory allocation failure. </td></tr>
    <tr><td class="paramname">MBA_RES_NO_RESOURCE</td><td>No Transmit buffers available for sending L2cap data. </td></tr>
    <tr><td class="paramname">MBA_RES_FAIL</td><td>Fail to send credit to peer device by error L2cap instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad2fab00d96ef1f1f47e81bbe3d397024"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2fab00d96ef1f1f47e81bbe3d397024">&#9670;&nbsp;</a></span>BLE_L2CAP_CbConnReq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t BLE_L2CAP_CbConnReq </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>connHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>spsm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Issue a L2cap credit based connection request to establish a L2cap channel. </p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="group___b_l_e___l2_c_a_p___f_u_n_s.html#ga3c20b43265b60c3ea35f4d1ed78bad71">BLE_L2CAP_CbRegisterSpsm</a> must be called to register SPSM before calling this API.</dd></dl>
<dl class="section user"><dt>Events generated</dt><dd><a class="el" href="group___b_l_e___l2_c_a_p___e_n_u_m_s.html#ggaae8672184b320bb4fb988d35a4c13972ade8a4e921196bc2408b9a4d6807fc27b">BLE_L2CAP_EVT_CB_CONN_IND</a> Generated when a credit based connection is established successfully.<br  />
<a class="el" href="group___b_l_e___l2_c_a_p___e_n_u_m_s.html#ggaae8672184b320bb4fb988d35a4c13972a3b7480f52efa1d99c3ec5a57133e3430">BLE_L2CAP_EVT_CB_CONN_FAIL_IND</a> Generated when a credit based connection is established failure.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connHandle</td><td>Connection handle associated with this connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">spsm</td><td>SPSM. See <a class="el" href="group___b_l_e___l2_c_a_p___s_p_s_m___r_a_n_g_e.html">SPSM range</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MBA_RES_SUCCESS</td><td>Successfully issue a connection request. </td></tr>
    <tr><td class="paramname">MBA_RES_OOM</td><td>Internal memory allocation failure. </td></tr>
    <tr><td class="paramname">MBA_RES_NO_RESOURCE</td><td>No Transmit buffers available for sending connection request. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga758b9f1e5ad80998b64c167e6141d67f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga758b9f1e5ad80998b64c167e6141d67f">&#9670;&nbsp;</a></span>BLE_L2CAP_CbDeregisterSpsm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t BLE_L2CAP_CbDeregisterSpsm </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>spsm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deregister a SPSM. </p>
<dl class="section note"><dt>Note</dt><dd>This function should be called to free unused registered SPSM.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spsm</td><td>Simplified Protocol/Service Multiplexer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MBA_RES_SUCCESS</td><td>Successfully deregister SPSM. </td></tr>
    <tr><td class="paramname">MBA_RES_INVALID_PARA</td><td>Unknown SPSM. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf3f37e8c3b0b33a762656ca767623bcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf3f37e8c3b0b33a762656ca767623bcc">&#9670;&nbsp;</a></span>BLE_L2CAP_CbDiscReq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t BLE_L2CAP_CbDiscReq </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>leL2capId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Issue a disconnect request to credit based connection channel. </p>
<dl class="section user"><dt>Events generated</dt><dd><a class="el" href="group___b_l_e___l2_c_a_p___e_n_u_m_s.html#ggaae8672184b320bb4fb988d35a4c13972aeb4d7196b22cafe476da0aebb6afb3e9">BLE_L2CAP_EVT_CB_DISC_IND</a> Generated when a credit based connection is disconnected.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">leL2capId</td><td>L2cap instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MBA_RES_SUCCESS</td><td>Successfully issue a L2cap disconnect request. </td></tr>
    <tr><td class="paramname">MBA_RES_OOM</td><td>Internal memory allocation failure. </td></tr>
    <tr><td class="paramname">MBA_RES_NO_RESOURCE</td><td>No Transmit buffers available for sending L2cap disconnect request. </td></tr>
    <tr><td class="paramname">MBA_RES_FAIL</td><td>Fail to send L2cap disconnect request by error L2cap instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0796b8a6732b645e336c072142fc97a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0796b8a6732b645e336c072142fc97a4">&#9670;&nbsp;</a></span>BLE_L2CAP_CbInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t BLE_L2CAP_CbInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize BLE L2CAP Credit Based module. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MBA_RES_SUCCESS</td><td>Successfully initialize BLE L2cap credit based module. </td></tr>
    <tr><td class="paramname">MBA_RES_OOM</td><td>Internal memory allocation failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa7e5e7b286c6a12e938f6cb31b040ff3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa7e5e7b286c6a12e938f6cb31b040ff3">&#9670;&nbsp;</a></span>BLE_L2CAP_CbPauseAuthorization()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t BLE_L2CAP_CbPauseAuthorization </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>spsm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pause or resume authorization in specific SPSM. </p>
<dl class="section note"><dt>Note</dt><dd>All SPSMs are all authorized as default. Use this API to pause the authorization if required.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spsm</td><td>Simplified Protocol/Service Multiplexer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">enable</td><td>Set true to pause the authorization (unauthorized). Otherwise, authorized.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MBA_RES_SUCCESS</td><td>Successfully configure the SPSM. </td></tr>
    <tr><td class="paramname">MBA_RES_INVALID_PARA</td><td>Unknown SPSM. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3c20b43265b60c3ea35f4d1ed78bad71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3c20b43265b60c3ea35f4d1ed78bad71">&#9670;&nbsp;</a></span>BLE_L2CAP_CbRegisterSpsm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t BLE_L2CAP_CbRegisterSpsm </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>spsm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>mtu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>mps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>initCredits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>permission</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a SPSM. </p>
<dl class="section note"><dt>Note</dt><dd>This function should be called before establishing credit based channel.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spsm</td><td>Simplified Protocol/Service Multiplexer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mtu</td><td>Maximum Transmission Unit. Range is <a class="el" href="group___b_l_e___l2_c_a_p___d_e_f_i_n_e_s.html#gaf19a365b82bf14731d658ec97b54fc6f">BLE_L2CAP_MIN_MTU_SIZE</a> ~ <a class="el" href="group___b_l_e___l2_c_a_p___d_e_f_i_n_e_s.html#ga05bb07baf2d4005c1559e27943c14de0">BLE_L2CAP_MAX_PDU_SIZE</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mps</td><td>Maximum PDU Payload Size. The minimum value is <a class="el" href="group___b_l_e___l2_c_a_p___d_e_f_i_n_e_s.html#gaebc651c223f59165d7682804fce80bac">BLE_L2CAP_MIN_MPS_SIZE</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">initCredits</td><td>Initial Credits. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">permission</td><td>Permission of the SPSM. See <a class="el" href="group___b_l_e___l2_c_a_p___p_e_r_m_i_s_s_i_o_n.html">Permission definition</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MBA_RES_SUCCESS</td><td>Successfully register SPSM. </td></tr>
    <tr><td class="paramname">MBA_RES_INVALID_PARA</td><td>Invalid MTU parameter usage. </td></tr>
    <tr><td class="paramname">MBA_RES_FAIL</td><td>Fail to register SPSM. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4a9a6bcb3be2e33217041f094bde718a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a9a6bcb3be2e33217041f094bde718a">&#9670;&nbsp;</a></span>BLE_L2CAP_CbSendSdu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t BLE_L2CAP_CbSendSdu </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>leL2capId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a L2cap SDU over credit based connection channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">leL2capId</td><td>L2cap instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>Length of L2cap SDU. The maximum value is <a class="el" href="group___b_l_e___l2_c_a_p___d_e_f_i_n_e_s.html#ga875613e9d5256c30ef25010b2b12e673">BLE_L2CAP_MAX_SDU_SIZE</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_payload</td><td>Point to the L2cap SDU buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MBA_RES_SUCCESS</td><td>Successfully send a L2cap data. </td></tr>
    <tr><td class="paramname">MBA_RES_OOM</td><td>Internal memory allocation failure. </td></tr>
    <tr><td class="paramname">MBA_RES_NO_RESOURCE</td><td>No Transmit buffers available for sending L2cap data. </td></tr>
    <tr><td class="paramname">MBA_RES_FAIL</td><td>Fail to send L2cap data by error L2cap instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3437c826b50445fe934b34b42bca89f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3437c826b50445fe934b34b42bca89f9">&#9670;&nbsp;</a></span>BLE_L2CAP_ConnParamUpdateReq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t BLE_L2CAP_ConnParamUpdateReq </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>connHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>intervalMin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>intervalMax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>latency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Issue a connection parameter update request. </p>
<dl class="section note"><dt>Note</dt><dd>This API shall only be called if local is LE peripheral role.</dd></dl>
<dl class="section user"><dt>Events generated</dt><dd><a class="el" href="group___b_l_e___l2_c_a_p___e_n_u_m_s.html#ggaae8672184b320bb4fb988d35a4c13972a352f3ff9ae77d3b11c66baf749ef5596">BLE_L2CAP_EVT_CONN_PARA_UPDATE_RSP</a> Generated when connection parameter update response received.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connHandle</td><td>Connection handle associated with this connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">intervalMin</td><td>Minimum value for the connection interval. See <a class="el" href="group___b_l_e___g_a_p___c_p___r_a_n_g_e.html">Connection parameters range</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">intervalMax</td><td>Maximum value for the connection interval. See <a class="el" href="group___b_l_e___g_a_p___c_p___r_a_n_g_e.html">Connection parameters range</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">latency</td><td>Peripheral latency parameter. See <a class="el" href="group___b_l_e___g_a_p___c_p___r_a_n_g_e.html">Connection parameters range</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>Connection timeout parameter. See <a class="el" href="group___b_l_e___g_a_p___c_p___r_a_n_g_e.html">Connection parameters range</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MBA_RES_SUCCESS</td><td>Successfully send a L2cap connection parameters update request. </td></tr>
    <tr><td class="paramname">MBA_RES_OOM</td><td>Internal memory allocation failure. </td></tr>
    <tr><td class="paramname">MBA_RES_NO_RESOURCE</td><td>No Transmit buffers available for sending L2cap connection parameters update request. </td></tr>
    <tr><td class="paramname">MBA_RES_FAIL</td><td>Fail to send L2cap connection parameters update request by error L2cap instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9d3d3110540b506a3d20125873dbe184"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9d3d3110540b506a3d20125873dbe184">&#9670;&nbsp;</a></span>BLE_L2CAP_ConnParamUpdateRsp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t BLE_L2CAP_ConnParamUpdateRsp </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>connHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reply a connection parameter update request. </p>
<dl class="section note"><dt>Note</dt><dd>This function should be called when BLE_L2CAP_EVT_CONN_PARA_UPDATE_REQ received.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connHandle</td><td>Connection handle associated with this connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">result</td><td>Accept or reject the request. See <a class="el" href="group___b_l_e___l2_c_a_p___c_o_n_n___p_a_r_a_m___r_s_p___r_e_s_u_l_t.html">Connection parameter update result</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MBA_RES_SUCCESS</td><td>Successfully issue a L2cap connection parameters update response. </td></tr>
    <tr><td class="paramname">MBA_RES_OOM</td><td>Internal memory allocation failure. </td></tr>
    <tr><td class="paramname">MBA_RES_NO_RESOURCE</td><td>No Transmit buffers available for sending L2cap connection parameters update response. </td></tr>
    <tr><td class="paramname">MBA_RES_FAIL</td><td>Fail to send L2cap connection parameters update response by error L2cap instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac07d6fd3296e0cff7d50a3b2a22efc7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac07d6fd3296e0cff7d50a3b2a22efc7f">&#9670;&nbsp;</a></span>BLE_L2CAP_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t BLE_L2CAP_Init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize BLE L2CAP module. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MBA_RES_SUCCESS</td><td>Successfully initialize BLE L2cap main module. </td></tr>
    <tr><td class="paramname">MBA_RES_OOM</td><td>Internal memory allocation failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
 
</small></address>
</body>
</html>
